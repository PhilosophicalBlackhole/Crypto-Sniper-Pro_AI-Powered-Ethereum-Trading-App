{"ast":null,"code":"var _WixIntegration;\n/**\n * Wix integration utilities for CryptoSniperPro\n */\n\nexport class WixIntegration {\n  constructor() {\n    this.isWixEnvironment = void 0;\n    this.isWixEnvironment = typeof window !== 'undefined' && window.location.hostname.includes('wix');\n  }\n  static getInstance() {\n    if (!WixIntegration.instance) {\n      WixIntegration.instance = new WixIntegration();\n    }\n    return WixIntegration.instance;\n  }\n\n  /**\n   * Check if running in Wix environment\n   */\n  isWix() {\n    return this.isWixEnvironment;\n  }\n\n  /**\n   * Get current Wix member\n   */\n  async getCurrentMember() {\n    if (!this.isWixEnvironment) {\n      return null;\n    }\n    try {\n      // Call Wix backend function\n      const response = await fetch('/_functions/getCurrentMember', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (error) {\n      console.error('Failed to get Wix member:', error);\n    }\n    return null;\n  }\n\n  /**\n   * Save snipe configuration to Wix database\n   */\n  async saveSnipeConfig(config) {\n    if (!this.isWixEnvironment) {\n      return false;\n    }\n    try {\n      const response = await fetch('/_functions/saveSnipeConfig', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify(config)\n      });\n      return response.ok;\n    } catch (error) {\n      console.error('Failed to save snipe config:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Get user's snipe configurations\n   */\n  async getSnipeConfigs() {\n    if (!this.isWixEnvironment) {\n      return [];\n    }\n    try {\n      const response = await fetch('/_functions/getSnipeConfigs', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include'\n      });\n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (error) {\n      console.error('Failed to get snipe configs:', error);\n    }\n    return [];\n  }\n\n  /**\n   * Redirect to Wix pricing plans\n   */\n  redirectToUpgrade(planType) {\n    if (this.isWixEnvironment) {\n      // Redirect to Wix pricing plans page\n      window.location.href = `/pricing?plan=${planType}`;\n    }\n  }\n\n  /**\n   * Initialize Wix integration\n   */\n  async initialize() {\n    if (!this.isWixEnvironment) {\n      return;\n    }\n\n    // Set up Wix-specific configurations\n    console.log('Initializing Wix integration...');\n\n    // Wait for Wix to be ready\n    if (typeof window !== 'undefined' && window.wixDevelopersAnalytics) {\n      console.log('Wix environment detected');\n    }\n  }\n}\n_WixIntegration = WixIntegration;\nWixIntegration.instance = void 0;\nexport default WixIntegration;","map":{"version":3,"names":["WixIntegration","constructor","isWixEnvironment","window","location","hostname","includes","getInstance","instance","isWix","getCurrentMember","response","fetch","method","headers","credentials","ok","json","error","console","saveSnipeConfig","config","body","JSON","stringify","getSnipeConfigs","redirectToUpgrade","planType","href","initialize","log","wixDevelopersAnalytics","_WixIntegration"],"sources":["C:/Users/tpars/source/repos/Crypto Sniper Pro_ AI-Powered Ethereum Trading App/src/utils/wixIntegration.ts"],"sourcesContent":["/**\n * Wix integration utilities for CryptoSniperPro\n */\n\nexport interface WixUser {\n  id: string;\n  name: string;\n  email: string;\n  plan: string;\n  avatar?: string;\n}\n\nexport class WixIntegration {\n  private static instance: WixIntegration;\n  private isWixEnvironment: boolean;\n\n  constructor() {\n    this.isWixEnvironment = typeof window !== 'undefined' && window.location.hostname.includes('wix');\n  }\n\n  static getInstance(): WixIntegration {\n    if (!WixIntegration.instance) {\n      WixIntegration.instance = new WixIntegration();\n    }\n    return WixIntegration.instance;\n  }\n\n  /**\n   * Check if running in Wix environment\n   */\n  isWix(): boolean {\n    return this.isWixEnvironment;\n  }\n\n  /**\n   * Get current Wix member\n   */\n  async getCurrentMember(): Promise<WixUser | null> {\n    if (!this.isWixEnvironment) {\n      return null;\n    }\n\n    try {\n      // Call Wix backend function\n      const response = await fetch('/_functions/getCurrentMember', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include'\n      });\n\n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (error) {\n      console.error('Failed to get Wix member:', error);\n    }\n\n    return null;\n  }\n\n  /**\n   * Save snipe configuration to Wix database\n   */\n  async saveSnipeConfig(config: any): Promise<boolean> {\n    if (!this.isWixEnvironment) {\n      return false;\n    }\n\n    try {\n      const response = await fetch('/_functions/saveSnipeConfig', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include',\n        body: JSON.stringify(config)\n      });\n\n      return response.ok;\n    } catch (error) {\n      console.error('Failed to save snipe config:', error);\n      return false;\n    }\n  }\n\n  /**\n   * Get user's snipe configurations\n   */\n  async getSnipeConfigs(): Promise<any[]> {\n    if (!this.isWixEnvironment) {\n      return [];\n    }\n\n    try {\n      const response = await fetch('/_functions/getSnipeConfigs', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        credentials: 'include'\n      });\n\n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (error) {\n      console.error('Failed to get snipe configs:', error);\n    }\n\n    return [];\n  }\n\n  /**\n   * Redirect to Wix pricing plans\n   */\n  redirectToUpgrade(planType: 'pro' | 'premium'): void {\n    if (this.isWixEnvironment) {\n      // Redirect to Wix pricing plans page\n      window.location.href = `/pricing?plan=${planType}`;\n    }\n  }\n\n  /**\n   * Initialize Wix integration\n   */\n  async initialize(): Promise<void> {\n    if (!this.isWixEnvironment) {\n      return;\n    }\n\n    // Set up Wix-specific configurations\n    console.log('Initializing Wix integration...');\n    \n    // Wait for Wix to be ready\n    if (typeof window !== 'undefined' && (window as any).wixDevelopersAnalytics) {\n      console.log('Wix environment detected');\n    }\n  }\n}\n\nexport default WixIntegration;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}